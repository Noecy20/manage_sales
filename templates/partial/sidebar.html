<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Boxicons CSS -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <style>
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}
:root {
  --white-color: #fff;
  --blue-color: #4070f4;
  --grey-color: #707070;
  --grey-color-light: #aaa;
}
body {
  background-color: #e7f2fd;
  transition: all 0.5s ease;
}
body.dark {
  background-color: #333;
}
body.dark {
  --white-color: #333;
  --blue-color: #fff;
  --grey-color: #f2f2f2;
  --grey-color-light: #aaa;
}
/* sidebar */
.sidebar {
  background-color: var(--white-color);
  width: 260px;
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  padding: 80px 20px;
  z-index: 100;
  overflow-y: scroll;
  box-shadow: 0 0 1px var(--grey-color-light);
  transition: all 0.5s ease;
}
.sidebar.close {
  padding: 60px 0;
  width: 80px;
}
.sidebar::-webkit-scrollbar {
  display: none;
}
.menu_content {
  position: relative;
}
.menu_title {
  margin: 15px 0;
  padding: 0 20px;
  font-size: 18px;
}
.sidebar.close .menu_title {
  padding: 6px 30px;
}
.menu_title::before {
  color: var(--grey-color);
  white-space: nowrap;
}
.menu_dahsboard::before {
  content: "Dashboard";
}
.menu_editor::before {
  content: "Editor";
}
.menu_setting::before {
  content: "Setting";
}
.sidebar.close .menu_title::before {
  content: "";
  position: absolute;
  height: 2px;
  width: 18px;
  border-radius: 12px;
  background: var(--grey-color-light);
}
.menu_items {
  padding: 0;
  list-style: none;
}
.navlink_icon {
  position: relative;
  font-size: 22px;
  min-width: 50px;
  line-height: 40px;
  display: inline-block;
  text-align: center;
  border-radius: 6px;
}
.navlink_icon::before {
  content: "";
  position: absolute;
  height: 100%;
  width: calc(100% + 100px);
  left: -20px;
}
.navlink_icon:hover {
  background: var(--blue-color);
}
.sidebar .nav_link {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 15px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--grey-color);
  white-space: nowrap;
}
.sidebar.close .navlink {
  display: none;
}
.nav_link:hover {
  color: var(--white-color);
  background: var(--blue-color);
}
.sidebar.close .nav_link:hover {
  background: var(--white-color);
}
.submenu_item {
  cursor: pointer;
}
.submenu {
  display: none;
}
.submenu_item .arrow-left {
  position: absolute;
  right: 10px;
  display: inline-block;
  margin-right: auto;
}
.sidebar.close .submenu {
  display: none;
}
.show_submenu ~ .submenu {
  display: block;
}
.show_submenu .arrow-left {
  transform: rotate(90deg);
}
.submenu .sublink {
  padding: 15px 15px 15px 52px;
}
.bottom_content {
  position: fixed;
  bottom: 60px;
  left: 0;
  width: 260px;
  cursor: pointer;
  transition: all 0.5s ease;
}
.bottom {
  position: absolute;
  display: flex;
  align-items: center;
  left: 0;
  justify-content: space-around;
  padding: 18px 0;
  text-align: center;
  width: 100%;
  color: var(--grey-color);
  border-top: 1px solid var(--grey-color-light);
  background-color: var(--white-color);
}
.bottom i {
  font-size: 20px;
}
.bottom span {
  font-size: 18px;
}
.sidebar.close .bottom_content {
  width: 50px;
  left: 15px;
}
.sidebar.close .bottom span {
  display: none;
}
.sidebar.hoverable .collapse_sidebar {
  display: none;
}
/* Ajoutez ceci à votre CSS */
.menu_title {
  margin: 15px 0;
  padding: 0 20px;
  font-size: 18px;
  color: var(--grey-color-light); /* Couleur légèrement plus claire pour les titres */
}

#sidebarOpen {
  display: none;
}
@media screen and (max-width: 768px) {
  #sidebarOpen {
    font-size: 25px;
    display: block;
    margin-right: 10px;
    cursor: pointer;
    color: var(--grey-color);
  }
  .sidebar.close {
    left: -100%;
  }
  .search_bar {
    display: none;
  }
  .sidebar.close .bottom_content {
    left: -100%;
  }
}
@media screen and (max-width: 768px) {
  .menu_title {
    padding: 6px 30px;
  }

  .navlink {
    display: none;
  }

  .sidebar.close .navlink {
    display: none;
  }

  .sidebar.hoverable .navlink {
    display: block;
  }

  .navlink_icon {
    min-width: auto;
  }

  .navlink_icon::before {
    left: 0;
    width: 100%;
  }
}

    </style>

    <script>
        const body = document.querySelector("body");
const darkLight = document.querySelector("#darkLight");
const sidebar = document.querySelector(".sidebar");
const submenuItems = document.querySelectorAll(".submenu_item");
const sidebarOpen = document.querySelector("#sidebarOpen");
const sidebarClose = document.querySelector(".collapse_sidebar");
const sidebarExpand = document.querySelector(".expand_sidebar");
sidebarOpen.addEventListener("click", () => sidebar.classList.toggle("close"));

sidebarClose.addEventListener("click", () => {
  sidebar.classList.add("close", "hoverable");
});
sidebarExpand.addEventListener("click", () => {
  sidebar.classList.remove("close", "hoverable");
});

sidebar.addEventListener("mouseenter", () => {
  if (sidebar.classList.contains("hoverable")) {
    sidebar.classList.remove("close");
  }
});
sidebar.addEventListener("mouseleave", () => {
  if (sidebar.classList.contains("hoverable")) {
    sidebar.classList.add("close");
  }
});

darkLight.addEventListener("click", () => {
  body.classList.toggle("dark");
  if (body.classList.contains("dark")) {
    document.setI
    darkLight.classList.replace("bx-sun", "bx-moon");
  } else {
    darkLight.classList.replace("bx-moon", "bx-sun");
  }
});

submenuItems.forEach((item, index) => {
  item.addEventListener("click", () => {
    item.classList.toggle("show_submenu");
    submenuItems.forEach((item2, index2) => {
      if (index !== index2) {
        item2.classList.remove("show_submenu");
      }
    });
  });
});

if (window.innerWidth < 768) {
  sidebar.classList.add("close");
} else {
  sidebar.classList.remove("close");
}
    </script>
</head>
<body>
     <!-- sidebar -->
  <nav class="sidebar">
        <div class="menu_content">
            <!-- Dashboard -->
            {% if session['role']=='admin' %}
              <div class="menu_title menu_dashboard">
                  Dashboard
              </div>
              <ul class="menu_items">
                  <li class="item">
                      <a href="{{ url_for('accueil') }}" class="nav_link">
                          <span class="navlink_icon">
                              <i class="bx bx-home-alt"></i>
                          </span>
                          <span class="navlink">Accueil</span>
                      </a>
                  </li>
              </ul>
            {% endif %}

            <!-- Stock Management -->
            {% if session['role']=='admin' or session['role']=='gestionnaire' %}
              <div class="menu_title menu_stock">
                  Gestion de Stock
              </div>
              <ul class="menu_items">
                  <li class="item">
                      <a href="{{ url_for('stock') }}" class="nav_link">
                          <span class="navlink_icon">
                              <i class="bx bx-layer"></i>
                          </span>
                          <span class="navlink">Le Stock</span>
                      </a>
                  </li>
                  <li class="item">
                      <a href="{{ url_for('fournisseur') }}" class="nav_link">
                          <span class="navlink_icon">
                              <i class="bx bx-layer"></i>
                          </span>
                          <span class="navlink">Nos Fournisseurs</span>
                      </a>
                  </li>
              </ul> 
            {% endif %}

            <!-- Sales Management -->
            {% if session['role']=='admin' or session['role']=='vendeur' %}
              <div class="menu_title menu_sales">
                  Gestion des Ventes
              </div>
            {% else %}
              <div class="menu_title menu_sales">
                  Clients
              </div>
            {% endif %}
            <ul class="menu_items">
              {% if session['role']=='admin' or session['role']=='vendeur' %}
                <li class="item">
                    <a href="{{ url_for('vente') }}" class="nav_link">
                        <span class="navlink_icon">
                            <i class="bx bx-filter"></i>
                        </span>
                        <span class="navlink">Ventes</span>
                    </a>
                </li>
              {% endif %}
                <li class="item">
                    <a href="{{ url_for('client') }}" class="nav_link">
                        <span class="navlink_icon">
                            <i class="bx bx-cloud-upload"></i>
                        </span>
                        <span class="navlink">Nos Clients</span>
                    </a>
                </li>
            </ul>

            <!-- Product Management -->
            {% if session['role']=='admin' or session['role']=='gestionnaire' %}
              <div class="menu_title menu_products">
                  Gestion du Magasin
              </div>
              <ul class="menu_items">
                  <li class="item">
                      <a href="{{ url_for('produit') }}" class="nav_link">
                          <span class="navlink_icon">
                              <i class="bx bxs-magic-wand"></i>
                          </span>
                          <span class="navlink">Produits</span>
                      </a>
                  </li>
                  <li class="item">
                      <a href="{{ url_for('typeprod') }}" class="nav_link">
                          <span class="navlink_icon">
                              <i class="bx bx-loader-circle"></i>
                          </span>
                          <span class="navlink">Type de Produits</span>
                      </a>
                  </li>
              </ul>
            {% endif %}  



        <!-- User Management -->
        {% if session['role']=='admin' or session['role']=='gestionnaire' %}
        <div class="menu_title menu_users">
            Gestion des Utilisateurs
        </div>
        {% endif %}
        {% if session['role']=='admin' %}
          <ul class="menu_items">
            <li class="item">
              <a href="{{ url_for('users_admin') }}" class="nav_link">
                <span class="navlink_icon">
                  <i class="bx bx-flag"></i>
                </span>
                <span class="navlink">Admin</span>
              </a>
            </li>
                  
            <li class="item">
              <a href="{{ url_for('users_gesto') }}" class="nav_link">
                <span class="navlink_icon">
                  <i class="bx bx-medal"></i>
                  </span>
                    <span class="navlink">Nos Gestionnaires</span>
              </a>
            </li>
          </ul>
        {% endif %}
        {% if session['role']=='admin' or session['role']=='gestionnaire' %} 
          <ul class="menu_items">         
            <li class="item">
              <a href="{{ url_for('users_vend') }}" class="nav_link">
                <span class="navlink_icon">
                  <i class="uil uil-users-alt "></i>
                </span>
                <span class="navlink">Nos Vendeurs</span>
              </a>
            </li>
          </ul>
        {% endif %} 
        
        {% if session['role']=='admin' or session['role']=='gestionnaire' %} 
          <ul class="menu_items">         
            <li class="item">
              <a href="{{ url_for('reglage_gesto') }}" class="nav_link">
                <span class="navlink_icon">
                  <i class="bx bx-cog"></i>
                </span>
                <span class="navlink">Reglage</span>
              </a>
            </li>
          </ul>
        {% endif %}  
    
        <!-- Sidebar Open / Close -->
<div class="bottom_content">
  <div class="bottom expand_sidebar">
    <span> Expand</span>
    <i class='bx bx-log-in' ></i>
   </div>
  <div class="bottom collapse_sidebar">
    <a href="{{ url_for('deconnexion') }}">Se Déconnecter</a>
    <i class='bx bx-log-out'></i>
  </div>
</div>

      </div>
    </nav>
    <!-- JavaScript -->
   
</body>

</html>